<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="src/styles/main.css">
      <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="icon" href="src/assets/favicon/tmi.ico" type="image/x-icon">
<title>TMI</title>

</head>
<body>
  
  <nav>
    <input type="checkbox" id="menu-toggle">
    <label for="menu-toggle" class="menu-icon">&#9776;</label>
    <div class="logo">THE MODEL ISSUE</div>
    <ul class="menu">
        <li><a href="index.html">INICIO</a></li>
        <li><a href="agenciaTMI.html">TMI AGENCIA</a></li>
        <li><a href="modelos.html">MODELOS</a></li>
        <li><a href="academiaTMI.html">TMI ACADEMIA</a></li>        <li><a href="semodeloTMI.html">APLICA PARA SER MODELO TMI AGENCIA</a></li>
        <li><a href="contacto.html">CONTACTO</a></li>
    </ul>
</nav>
<div class="redes">
  <a href="https://instagram.com/themodelissue" target="_blank" title="Instagram">
    <i class="fab fa-instagram"></i>
  </a>
  <a href="https://wa.me/584128703811" target="_blank" title="WhatsApp">
    <i class="fab fa-whatsapp"></i>
  </a>
</div>

<!-- Video de fondo fijo -->
<div class="fixed inset-0 w-full h-full -z-10 overflow-hidden pointer-events-none">
<video
  class="w-full h-full object-cover object-center min-w-full min-h-full"
  autoplay loop muted playsinline
  style="background-repeat: repeat; background-size: cover;"
  src="src/assets/inicio/inicio-video.mp4">
</video>
</div>
<!-- Overlay opcional para oscurecer el video -->

<section class="relative min-h-[88dvh] flex justify-center mx-2 2xl:mx-48 overflow-auto">
  <div class="absolute top-0 left-0 w-full h-full bg-black opacity-60 z-10"></div>

  <div class="relative w-full grid grid-cols-1 2xl:grid-cols-10 gap-0 2xl:gap-0 z-20 items-start">
    <!-- Columna de advertencia -->
    <div class="bg-[#1d1d1d56] rounded-md shadow-md p-4 md:p-8 m-2 md:m-4 border border-gray-300 text-slate-50 text-sm leading-relaxed 2xl:col-span-4">
      <h2 class="text-2xl font-bold mb-4">📸 Requisitos para tu Aplicación</h2>
      <p class="mb-2">
        Adjunta tus <strong>fotos tipo polas</strong>. Pueden ser profesionales o caseras, pero <strong>preferiblemente con luz natural</strong>, sin maquillaje ni filtros. Usa ropa <strong>negra ajustada</strong> y posa frente a una <strong>pared blanca</strong>. Queremos ver tu rostro y perfiles con claridad.
      </p>
      <p class="mb-2"><strong>Estatura mínima:</strong></p>
      <ul class="list-disc list-inside mb-2">
        <li>Mujeres: 1,69 m</li>
        <li>Hombres: 1,80 m</li>
      </ul>
      <p class="mb-4"><strong>Edad mínima:</strong> 16 años. <span class="italic">Sin límite de edad máxima.</span></p>

      <h2 class="text-2xl font-bold mt-6 mb-4">📬 Contáctanos</h2>
      <p class="mb-2">Completa todos los campos requeridos en el formulario.</p>
      <p class="mb-2">Si eres seleccionado(a), nos comunicaremos contigo mediante nuestro correo oficial o número telefónico:</p>
      <p class="break-words">
  ✉️ <strong>themodelissueclass@gmail.com</strong>
</p>

      <ul class="space-y-1 mb-4">
        <li>📞 <strong>+58 0412 8703811</strong></li>
      </ul>

    </div>

    <!-- Columna derecha: Formulario -->
    <div class="bg-[#1d1d1d56] text-white rounded-md shadow-md p-4 md:p-8 m-2 md:m-4 border border-gray-300 2xl:col-span-6">
      <h2 class="text-2xl font-bold mb-0 text-center tracking-wide"></h2>
      
      <form id="contactForm" class="space-y-5 text-sm" enctype="multipart/form-data" action="/api/aplicar" method="POST">

  <!-- 1. Género -->
<div class="mb-6">
  <label class="block text-sm font-semibold text-white mb-3">GÉNERO</label>
  <div class="flex gap-4">
    
    <!-- Opción MUJER -->
    <input type="radio" id="genero-mujer" name="genero" value="Mujer" class="sr-only peer/mujer" required>
    <label for="genero-mujer"
      class="block px-4 py-2 text-sm rounded-md border border-gray-700 text-gray-400 cursor-pointer
             peer-checked/mujer:border-gray-300 peer-checked/mujer:bg-gray-200/10 peer-checked/mujer:text-white
             transition-colors duration-200">
      MUJER
    </label>

    <!-- Opción HOMBRE -->
    <input type="radio" id="genero-hombre" name="genero" value="Hombre" class="sr-only peer/hombre">
    <label for="genero-hombre"
      class="block px-4 py-2 text-sm rounded-md border border-gray-700 text-gray-400 cursor-pointer
             peer-checked/hombre:border-gray-300 peer-checked/hombre:bg-gray-200/10 peer-checked/hombre:text-white
             transition-colors duration-200">
      HOMBRE
    </label>

    <!-- Opción NO BINARIO -->
    <input type="radio" id="genero-nobinario" name="genero" value="No Binario" class="sr-only peer/nb">
    <label for="genero-nobinario"
      class="block px-4 py-2 text-sm rounded-md border border-gray-700 text-gray-400 cursor-pointer
             peer-checked/nb:border-gray-300 peer-checked/nb:bg-gray-200/10 peer-checked/nb:text-white
             transition-colors duration-200">
      NO BINARIO
    </label>

  </div>
</div>


  <!-- Nombre y edad -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label class="block font-medium mb-1">Nombre y Apellido</label>
      <input type="text" name="name" placeholder="¿Cómo te llamas?" class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-100" required>
    </div>
    <div>
      <label class="block font-medium mb-1">Edad</label>
      <input type="number" name="edad" placeholder="¿Tu edad actual?" required class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-100">
    </div>
  </div>

  
  <!-- ¿Es estudiante? -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- ¿Eres estudiante? -->
<div class="mb-6">
  <label class="block text-sm  text-white mb-3">¿Eres estudiante?</label>
  <div class="flex gap-4">
    <input type="radio" id="estudiante-si" name="estudiante" value="Sí" class="sr-only peer/si" required>
    <label for="estudiante-si"
      class="block px-4 py-2 text-sm rounded-md border border-gray-700 text-gray-400 cursor-pointer
             peer-checked/si:border-gray-300 peer-checked/si:bg-gray-200/10 peer-checked/si:text-white transition-colors duration-200">
      SÍ
    </label>

    <input type="radio" id="estudiante-no" name="estudiante" value="No" class="sr-only peer/no">
    <label for="estudiante-no"
      class="block px-4 py-2 text-sm rounded-md border border-gray-700 text-gray-400 cursor-pointer
             peer-checked/no:border-gray-300 peer-checked/no:bg-gray-200/10 peer-checked/no:text-white transition-colors duration-200">
      NO
    </label>
  </div>
</div>

<!-- ¿Tienes pasaporte vigente? -->
<div class="mb-6">
  <label class="block text-sm  text-white mb-3">¿Tienes pasaporte vigente?</label>
  <div class="flex gap-4">
    <input type="radio" id="pasaporte-si" name="pasaporte" value="Sí" class="sr-only peer/psi" required>
    <label for="pasaporte-si"
      class="block px-4 py-2 text-sm rounded-md border border-gray-700 text-gray-400 cursor-pointer
             peer-checked/psi:border-gray-300 peer-checked/psi:bg-gray-200/10 peer-checked/psi:text-white transition-colors duration-200">
      SÍ
    </label>

    <input type="radio" id="pasaporte-no" name="pasaporte" value="No" class="sr-only peer/pno">
    <label for="pasaporte-no"
      class="block px-4 py-2 text-sm rounded-md border border-gray-700 text-gray-400 cursor-pointer
             peer-checked/pno:border-gray-300 peer-checked/pno:bg-gray-200/10 peer-checked/pno:text-white transition-colors duration-200">
      NO
    </label>
  </div>
</div>

  </div>

  <!-- Número de contacto del modelo -->
  <div>
    <label class="block font-medium mb-1">Número de contacto del modelo</label>
    <input type="tel" name="telefono_modelo" placeholder="Ej: +58 0412..." required class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-100">
  </div>

  <!-- Si eres menor de edad, contacto de representante -->
  <div>
    <label class="block font-medium mb-1">Si eres menor de edad, contacto de representante</label>
    <input type="tel" name="telefono_representante" placeholder="Teléfono del representante (si aplica)" class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-900">
  </div>

  <!-- Altura y instagram-->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label class="block font-medium mb-1">Altura (cm)</label>
      <input type="text" name="altura" inputmode="decimal" pattern="[0-9]+([.,][0-9]+)?" placeholder="¿Cuánto mides?" class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-100">
    </div>

    <div>
      <label class="block font-medium mb-1">Instagram</label>
      <input type="text" name="instagram" placeholder="¿Cuál es tu @?" required class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1  focus:outline-none  focus:border-b-slate-100">
    </div>
  </div>

  <!-- 6. País / Región -->
  <div>
    <label class="block font-medium mb-1">País o Región</label>
    <input type="text" name="region" placeholder="¿Desde qué país o región aplicas?" required class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1  focus:outline-none  focus:border-b-slate-100">
  </div>

  <!-- Dirección exacta de vivienda -->
  <div>
    <label class="block font-medium mb-1">Dirección exacta de vivienda</label>
    <input type="text" name="direccion" placeholder="¿Dónde vives?" required class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-100">
  </div>
  
  <!-- 7. Correo -->
  <div>
    <label class="block font-medium mb-1">Correo Electrónico</label>
    <input type="email" name="email" placeholder="¿Cuál es tu correo de contacto?" class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1  focus:outline-none  focus:border-b-slate-100">
  </div>

  <!-- 8. Correo -->
  <div>
    <label class="block font-medium mb-1">Portafolio (Enlaces de Utilidad)</label>
    <input type="enlace" name="enlace" placeholder="¿Tienes un portafolio o enlace útil para ver tu trabajo?"  class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1  focus:outline-none  focus:border-b-slate-100">
  </div>

        <!-- 9. Fotos Polas -->
        <div class="space-y-6">
  <label class="block font-semibold text-base mb-4 text-center">FOTOS POLAS</label>



<div class="grid grid-cols-1 2xl:grid-cols-3 gap-x-8 gap-y-8 text-center">

    <!-- Rostro -->
    <label for="foto_retrato" class="group block cursor-pointer hover:scale-[1.03] transition-all duration-300 ease-in-out w-40 h-60 mx-auto">
      <div class="relative w-full h-full flex items-center justify-center overflow-hidden shadow-md hover:shadow-lg bg-white ">
        <img id="preview_foto_retrato"
              src="src/assets/bancoFotos/postula/retrato.jpg"
              data-default="src/assets/bancoFotos/postula/retrato.jpg"
              alt="Rostro frontal"
              class="w-full h-full object-cover" />
        <input type="file"
                name="foto_retrato"
                id="foto_retrato"
                accept="image/*"
                required
                class="absolute inset-0 opacity-0 cursor-pointer"
                onchange="preview(this, 'preview_foto_retrato')" />
      </div>
       <div class=" text-xs text-center text-black font-medium bg-white backdrop-blur-sm py-1 ">Rostro de frente</div>
      </label>
      
      
      <!-- Cuerpo completo -->
    <div>
     <label for="foto_cuerpo_completo" class="group block cursor-pointer hover:scale-[1.03] transition-all duration-300 ease-in-out w-40 h-60 mx-auto">
      <div class="relative w-full h-full flex items-center justify-center overflow-hidden shadow-md hover:shadow-lg bg-white ">
         <img id="preview_foto_cuerpo_completo" 
         src="src/assets/bancoFotos/postula/completo.jpg" 
         data-default="src/assets/bancoFotos/postula/completo.jpg" 
         alt="Cuerpo completo"
            class="w-full h-full object-cover" />
          <input type="file" 
                name="foto_cuerpo_completo" 
                id="foto_cuerpo_completo" 
                accept="image/*" required
            class="absolute inset-0 opacity-0 cursor-pointer" 
            onchange="preview(this, 'preview_foto_cuerpo_completo')" />
        </div>
        <div class="text-xs text-center text-black font-medium bg-white backdrop-blur-sm py-1">Cuerpo completo</div>
      </label>
    </div>

    <!-- Mitad cintura -->
    <div>
      <label for="foto_mitad_cintura" class="group block cursor-pointer hover:scale-[1.03] transition-all duration-300 ease-in-out w-40 h-60 mx-auto">
      <div class="relative w-full h-full flex items-center justify-center overflow-hidden shadow-md hover:shadow-lg bg-white ">
        <img id="preview_foto_mitad_cintura" 
        src="src/assets/bancoFotos/postula/mitad.jpg" 
        data-default="src/assets/bancoFotos/postula/mitad.jpg" 
        alt="Mitad de cintura"
            class="w-full h-full object-cover" />
          <input type="file" 
          name="foto_mitad_cintura" 
          id="foto_mitad_cintura" 
          accept="image/*" required
          class="absolute inset-0 opacity-0 cursor-pointer" 
          onchange="preview(this, 'preview_foto_mitad_cintura')" />
        </div>
        <div class="text-xs text-center text-black font-medium bg-white backdrop-blur-sm py-1">Mitad de cintura</div>
      </label>
    </div>

  </div>


<div class="grid grid-cols-1 2xl:grid-cols-2 gap-x-8 gap-y-8 text-center 2xl:px-28 py-4 px-2">

    <!-- Perfil derecho -->
    <div>
      <label for="foto_lado_derecho" class="group block cursor-pointer hover:scale-[1.03] transition-all duration-300 ease-in-out w-40 h-60 mx-auto">
      <div class="relative w-full h-full flex items-center justify-center overflow-hidden shadow-md hover:shadow-lg bg-white ">
        <img id="preview_foto_lado_derecho" 
        src="src/assets/bancoFotos/postula/pderecho.jpg" 
        data-default="src/assets/bancoFotos/postula/pderecho.jpg" 
        alt="Perfil derecho"
            class="w-full h-full object-cover" />
          <input type="file" name="foto_lado_derecho" id="foto_lado_derecho" accept="image/*" required
          class="absolute inset-0 opacity-0 cursor-pointer" onchange="preview(this, 'preview_foto_lado_derecho')" />
        </div>
        <div class="text-xs text-center text-black font-medium bg-white backdrop-blur-sm py-1">Perfil derecho</div>
      </label>
    </div>

    <!-- Perfil izquierdo -->
    <div>
      <label for="foto_lado_izquierdo" class="group block cursor-pointer hover:scale-[1.03] transition-all duration-300 ease-in-out w-40 h-60 mx-auto">
      <div class="relative w-full h-full flex items-center justify-center overflow-hidden shadow-md hover:shadow-lg bg-white ">
        <img id="preview_foto_lado_izquierdo" 
        src="src/assets/bancoFotos/postula/pizquierdo.jpg" 
        data-default="src/assets/bancoFotos/postula/pizquierdo.jpg" 

        alt="Perfil izquierdo"
            class="w-full h-full object-cover" />
          <input type="file" name="foto_lado_izquierdo" id="foto_lado_izquierdo" accept="image/*" required
            class="absolute inset-0 opacity-0 cursor-pointer" onchange="preview(this, 'preview_foto_lado_izquierdo')" />
        </div>
        <div class="text-xs text-center text-black font-medium bg-white backdrop-blur-sm py-1">Perfil izquierdo</div>
      </label>
    </div>
</div>
    
</div>







        <button type="submit" class="w-full bg-zinc-300 hover:bg-slate-500 text-black py-3 my-3 cursor-pointer rounded-md font-semibold tracking-wide transition">
          Enviar Aplicación
        </button>
      </form>
    </div>

  </div>
</section>



<!-- Estilo común sugerido -->
<style>
  .input-field {
    @apply w-full border border-gray-400 bg-white text-black p-3 rounded-md focus:border-blue-600 focus:ring-2 focus:ring-blue-300 transition;
  }
</style>


<script>
  function preview(input, targetId) {
    const file = input.files[0];
    if (file) {
      document.getElementById(targetId).src = URL.createObjectURL(file);
    }
  }
</script>

<script>
const MAX_IMAGE_SIZE = 700 * 1024; // 700KB por imagen
const MAX_TOTAL_SIZE = 3.5 * 1024 * 1024; // 3.5MB total

function preview(input, targetId) {
  const file = input.files[0];
  const warningId = targetId + '_warning';
  let warning = document.getElementById(warningId);
  if (warning) warning.remove();
  if (file) {
    document.getElementById(targetId).src = URL.createObjectURL(file);
    if (file.size > MAX_IMAGE_SIZE) {
      const parent = input.closest('.relative');
      const msg = document.createElement('div');
      msg.id = warningId;
      msg.className = "absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 text-red-400 font-bold text-center text-xs px-2 z-20";
      msg.innerText = "La imagen supera el máximo permitido (700KB)";
      parent.appendChild(msg);
    }
  }
}

document.getElementById('contactForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  let valid = true;
  let totalSize = 0;
  const inputs = this.querySelectorAll('input[type="file"]');
  inputs.forEach(input => {
    const file = input.files[0];
    if (file) {
      totalSize += file.size;
      if (file.size > MAX_IMAGE_SIZE) valid = false;
    }
  });
  if (totalSize > MAX_TOTAL_SIZE) {
    alert('La suma de todas las imágenes no debe superar 3.5MB.');
    return;
  }
  if (!valid) {
    alert('Una o más imágenes superan el tamaño máximo permitido (700KB). Corrige antes de enviar.');
    return;
  }

  // Antes de crear el FormData:
  const alturaInput = this.querySelector('input[name="altura"]');
  if (alturaInput) {
    // Normaliza: reemplaza coma por punto y elimina espacios
    let valor = alturaInput.value.trim().replace(',', '.');
    // Valida que sea un número decimal válido (no letras)
    if (!/^\d+(\.\d+)?$/.test(valor)) {
      alert('Por favor ingresa una altura válida (ejemplo: 1.75 o 1,75)');
      alturaInput.focus();
      return;
    }
    alturaInput.value = valor;
  }

  // Enviar el formulario usando fetch
  const formData = new FormData(this);
  try {
    const response = await fetch(this.action, {
      method: 'POST',
      body: formData
    });
    if (response.ok) {
      // Mostrar el modal de agradecimiento
      document.getElementById('thankYouModal').classList.remove('hidden');
      // Opcional: resetear el formulario
      this.reset();
      // Opcional: limpiar previews de imágenes
      document.querySelectorAll('img[id^="preview_"]').forEach(img => {
        img.src = img.getAttribute('data-default') || img.src;
      });
    } else {
      // Si es error de tamaño, ya lo manejaste arriba. Otros errores: mensaje genérico.
      alert('Ocurrió un error al enviar tu postulación. Intenta de nuevo más tarde.');
    }
  } catch (err) {
    alert('Ocurrió un error inesperado. Intenta de nuevo más tarde.');
  }
});

function closeThankYouModal() {
  document.getElementById('thankYouModal').classList.add('hidden');
  // Redirige al formulario (opcional, si quieres recargar la página)
  window.location.href = window.location.pathname;
}
</script>

<footer class="bg-black bg-opacity-80 text-white py-6">
    <div class="max-w-screen-xl mx-auto px-4 flex flex-col md:flex-row items-center justify-between">
        <div class="mb-4 md:mb-0 text-center md:text-left">
            &copy; 2025 THE MODEL ISSUE. Todos los derechos reservados.
        </div>
        <div class="flex space-x-4 justify-center">
            <a href="https://instagram.com/themodelissue" target="_blank" title="Instagram" class="hover:text-pink-400">
                <i class="fab fa-instagram fa-lg"></i>
            </a>
            <a href="https://wa.me/584128703811" target="_blank" title="WhatsApp" class="hover:text-green-400">
                <i class="fab fa-whatsapp fa-lg"></i>
            </a>
        </div>
    </div>
</footer>

<!-- Modal de agradecimiento -->
<div id="thankYouModal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-lg shadow-lg p-8 max-w-xs w-full text-center">
    <h2 class="text-2xl font-bold mb-4 text-black">¡Gracias por tu postulación!</h2>
    <p class="mb-4 text-black">Pronto nos pondremos en contacto contigo.</p>
    <div class="flex justify-center space-x-4 mb-4">
      <a href="https://instagram.com/themodelissue" target="_blank" class="text-pink-500 hover:text-pink-700 text-2xl"><i class="fab fa-instagram"></i></a>
      <a href="https://wa.me/584128703811" target="_blank" class="text-green-500 hover:text-green-700 text-2xl"><i class="fab fa-whatsapp"></i></a>
    </div>
    <button onclick="closeThankYouModal()" class="mt-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-800">Cerrar</button>
  </div>
</div>

<script>
document.querySelector('input[name="altura"]').addEventListener('input', function(e) {
  // Solo permite dígitos, punto y coma
  this.value = this.value.replace(/[^0-9.,]/g, '');
});
</script>
</body>
</html>