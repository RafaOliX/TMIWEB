<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="src/styles/main.css">
      <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="icon" href="src/assets/favicon/tmi.ico" type="image/x-icon">
<title>TMI</title>

</head>
<body>
  
  <nav>
    <input type="checkbox" id="menu-toggle">
    <label for="menu-toggle" class="menu-icon">&#9776;</label>
    <div class="logo">THE MODEL ISSUE</div>
    <ul class="menu">
        <li><a href="index.html">INICIO</a></li>
        <li><a href="agenciaTMI.html">TMI AGENCIA</a></li>
        <li><a href="modelos.html">MODELOS</a></li>
        <li><a href="academiaTMI.html">TMI ACADEMIA</a></li>        <li><a href="semodeloTMI.html">APLICA PARA SER MODELO TMI AGENCIA</a></li>
        <li><a href="contacto.html">CONTACTO</a></li>
    </ul>
</nav>
<div class="redes">
  <a href="https://instagram.com/themodelissue" target="_blank" title="Instagram">
    <i class="fab fa-instagram"></i>
  </a>
  <a href="https://wa.me/584128703811" target="_blank" title="WhatsApp">
    <i class="fab fa-whatsapp"></i>
  </a>
</div>


<section class="overflow-hidden min-h-[88dvh] flex justify-center mx-2 2xl:mx-48">
  <!-- Video de fondo -->
  <video class="absolute top-0 left-0 w-full h-full object-cover z-0" autoplay loop muted playsinline src="src/assets/inicio/inicio-video.mp4"></video>
  <!-- Overlay opcional para oscurecer el video -->
  <div class="absolute top-0 left-0 w-full h-full bg-black opacity-60 z-10"></div>

  <div class="w-full grid grid-cols-1 2xl:grid-cols-10 gap-0 2xl:gap-0 z-20 items-start">
    <!-- Columna de advertencia -->
    <div class="bg-[#1d1d1d56] rounded-md shadow-md p-4 md:p-8 m-2 md:m-4 border border-gray-300 text-slate-50 text-sm leading-relaxed 2xl:col-span-4">
      <h2 class="text-2xl font-bold mb-4">CONTÁCTANOS</h2>
      <p class="mb-4">Por favor llenar los datos que se le piden</p>
      <p class="mb-4">Foto polas correspondiente en ropa negra con fondo de pared blanco, queremos ver tus perfiles!</p>
      <p class="mb-4">Al ser seleccionado por la agencia se le informará a través de nuestro correo oficial o numero telefónico:</p>
      <ul class="space-y-1">
        <li>✉️ <strong>themodelissueclass@gmail.com</strong></li>
        <li>📞 <strong>+58 04128703811</strong></li>
      </ul>
    </div>

    <!-- Columna derecha: Formulario -->
    <div class="bg-[#1d1d1d56] text-white rounded-md shadow-md p-4 md:p-8 m-2 md:m-4 border border-gray-300 2xl:col-span-6">
      <h2 class="text-2xl font-bold mb-0 text-center tracking-wide"></h2>
      
      <form id="contactForm" class="space-y-5 text-sm" enctype="multipart/form-data" action="/api/aplicar" method="POST">

  <!-- 1. Género -->
  <div>
    <label class="block font-medium mb-1">GÉNERO</label>
    <div class="flex gap-1">
      <label><input type="radio" name="genero" value="Mujer" required> MUJER</label>
      <label><input type="radio" name="genero" value="Hombre"> HOMBRE</label>
      <label><input type="radio" name="genero" value="No Binario"> NO BINARIO</label>
    </div>
  </div>

  <!-- Nombre y edad -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label class="block font-medium mb-1">Nombre y Apellido</label>
      <input type="text" name="name" placeholder="¿Cómo te llamas?" class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-100" required>
    </div>
    <div>
      <label class="block font-medium mb-1">Edad</label>
      <input type="number" name="edad" placeholder="¿Tu edad actual?" required class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-100">
    </div>
  </div>

  
  <!-- ¿Es estudiante? -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label class="block font-medium mb-1">¿Eres estudiante?</label>
      <select name="estudiante" required class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-100">
        <option value="" disabled selected>Selecciona una opción</option>
        <option value="Sí">Sí</option>
        <option value="No">No</option>
      </select>
    </div>

    <!-- ¿Tiene pasaporte vigente? -->
    <div>
      <label class="block font-medium mb-1">¿Tienes pasaporte vigente?</label>
      <select name="pasaporte" required class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-100">
        <option value="" disabled selected>Selecciona una opción</option>
        <option value="Sí">Sí</option>
        <option value="No">No</option>
      </select>
    </div>
  </div>

  <!-- Número de contacto del modelo -->
  <div>
    <label class="block font-medium mb-1">Número de contacto del modelo</label>
    <input type="tel" name="telefono_modelo" placeholder="Ej: +58 0412..." required class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-100">
  </div>

  <!-- Si eres menor de edad, contacto de representante -->
  <div>
    <label class="block font-medium mb-1">Si eres menor de edad, contacto de representante</label>
    <input type="tel" name="telefono_representante" placeholder="Teléfono del representante (si aplica)" class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-900">
  </div>

  <!-- Altura y instagram-->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label class="block font-medium mb-1">Altura (cm)</label>
      <input type="number" name="altura" placeholder="¿Cuánto mides?" class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1  focus:outline-none  focus:border-b-slate-100">
    </div>

    <div>
      <label class="block font-medium mb-1">Instagram</label>
      <input type="text" name="instagram" placeholder="¿Cuál es tu @?" required class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1  focus:outline-none  focus:border-b-slate-100">
    </div>
  </div>

  <!-- 6. País / Región -->
  <div>
    <label class="block font-medium mb-1">País o Región</label>
    <input type="text" name="region" placeholder="¿Desde qué país o región aplicas?" required class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1  focus:outline-none  focus:border-b-slate-100">
  </div>

  <!-- Dirección exacta de vivienda -->
  <div>
    <label class="block font-medium mb-1">Dirección exacta de vivienda</label>
    <input type="text" name="direccion" placeholder="¿Dónde vives?" required class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1 focus:outline-none focus:border-b-slate-100">
  </div>
  
  <!-- 7. Correo -->
  <div>
    <label class="block font-medium mb-1">Correo Electrónico</label>
    <input type="email" name="email" placeholder="¿Cuál es tu correo de contacto?" class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1  focus:outline-none  focus:border-b-slate-100">
  </div>

  <!-- 8. Correo -->
  <div>
    <label class="block font-medium mb-1">Portafolio (Enlaces de Utilidad)</label>
    <input type="enlace" name="enlace" placeholder="¿Tienes un portafolio o enlace útil para ver tu trabajo?"  class="input-field w-full border-b-1 border-t-1 border-gray-400 p-1  focus:outline-none  focus:border-b-slate-100">
  </div>

        <!-- 9. Fotos Polas -->
        <div class="space-y-6">
  <label class="block font-semibold text-base mb-4 text-center">FOTOS POLAS</label>



<div class="grid grid-cols-1 2xl:grid-cols-3 gap-x-8 gap-y-8 text-center">

    <!-- Rostro -->
    <label for="foto_retrato" class="group block cursor-pointer hover:scale-[1.03] transition-all duration-300 ease-in-out w-40 h-60 mx-auto">
      <div class="relative w-full h-full flex items-center justify-center overflow-hidden shadow-md hover:shadow-lg bg-white ">
        <img id="preview_foto_retrato"
              src="src/assets/bancoFotos/postula/retrato.jpg"
              data-default="src/assets/bancoFotos/postula/retrato.jpg"
              alt="Rostro frontal"
              class="w-full h-full object-cover" />
        <input type="file"
                name="foto_retrato"
                id="foto_retrato"
                accept="image/*"
                required
                class="absolute inset-0 opacity-0 cursor-pointer"
                onchange="preview(this, 'preview_foto_retrato')" />
      </div>
       <div class=" text-xs text-center text-black font-medium bg-white backdrop-blur-sm py-1 ">Rostro de frente</div>
      </label>
      
      
      <!-- Cuerpo completo -->
    <div>
     <label for="foto_cuerpo_completo" class="group block cursor-pointer hover:scale-[1.03] transition-all duration-300 ease-in-out w-40 h-60 mx-auto">
      <div class="relative w-full h-full flex items-center justify-center overflow-hidden shadow-md hover:shadow-lg bg-white ">
         <img id="preview_foto_cuerpo_completo" 
         src="src/assets/bancoFotos/postula/completo.jpg" 
         data-default="src/assets/bancoFotos/postula/completo.jpg" 
         alt="Cuerpo completo"
            class="w-full h-full object-cover" />
          <input type="file" 
                name="foto_cuerpo_completo" 
                id="foto_cuerpo_completo" 
                accept="image/*" required
            class="absolute inset-0 opacity-0 cursor-pointer" 
            onchange="preview(this, 'preview_foto_cuerpo_completo')" />
        </div>
        <div class="text-xs text-center text-black font-medium bg-white backdrop-blur-sm py-1">Cuerpo completo</div>
      </label>
    </div>

    <!-- Mitad cintura -->
    <div>
      <label for="foto_mitad_cintura" class="group block cursor-pointer hover:scale-[1.03] transition-all duration-300 ease-in-out w-40 h-60 mx-auto">
      <div class="relative w-full h-full flex items-center justify-center overflow-hidden shadow-md hover:shadow-lg bg-white ">
        <img id="preview_foto_mitad_cintura" 
        src="src/assets/bancoFotos/postula/mitad.jpg" 
        data-default="src/assets/bancoFotos/postula/mitad.jpg" 
        alt="Mitad de cintura"
            class="w-full h-full object-cover" />
          <input type="file" 
          name="foto_mitad_cintura" 
          id="foto_mitad_cintura" 
          accept="image/*" required
          class="absolute inset-0 opacity-0 cursor-pointer" 
          onchange="preview(this, 'preview_foto_mitad_cintura')" />
        </div>
        <div class="text-xs text-center text-black font-medium bg-white backdrop-blur-sm py-1">Mitad de cintura</div>
      </label>
    </div>

  </div>


<div class="grid grid-cols-1 2xl:grid-cols-2 gap-x-8 gap-y-8 text-center 2xl:px-28 py-4 px-2">

    <!-- Perfil derecho -->
    <div>
      <label for="foto_lado_derecho" class="group block cursor-pointer hover:scale-[1.03] transition-all duration-300 ease-in-out w-40 h-60 mx-auto">
      <div class="relative w-full h-full flex items-center justify-center overflow-hidden shadow-md hover:shadow-lg bg-white ">
        <img id="preview_foto_lado_derecho" 
        src="src/assets/bancoFotos/postula/pderecho.jpg" 
        data-default="src/assets/bancoFotos/postula/pderecho.jpg" 
        alt="Perfil derecho"
            class="w-full h-full object-cover" />
          <input type="file" name="foto_lado_derecho" id="foto_lado_derecho" accept="image/*" required
          class="absolute inset-0 opacity-0 cursor-pointer" onchange="preview(this, 'preview_foto_lado_derecho')" />
        </div>
        <div class="text-xs text-center text-black font-medium bg-white backdrop-blur-sm py-1">Perfil derecho</div>
      </label>
    </div>

    <!-- Perfil izquierdo -->
    <div>
      <label for="foto_lado_izquierdo" class="group block cursor-pointer hover:scale-[1.03] transition-all duration-300 ease-in-out w-40 h-60 mx-auto">
      <div class="relative w-full h-full flex items-center justify-center overflow-hidden shadow-md hover:shadow-lg bg-white ">
        <img id="preview_foto_lado_izquierdo" 
        src="src/assets/bancoFotos/postula/pizquierdo.jpg" 
        data-default="src/assets/bancoFotos/postula/pizquierdo.jpg" 

        alt="Perfil izquierdo"
            class="w-full h-full object-cover" />
          <input type="file" name="foto_lado_izquierdo" id="foto_lado_izquierdo" accept="image/*" required
            class="absolute inset-0 opacity-0 cursor-pointer" onchange="preview(this, 'preview_foto_lado_izquierdo')" />
        </div>
        <div class="text-xs text-center text-black font-medium bg-white backdrop-blur-sm py-1">Perfil izquierdo</div>
      </label>
    </div>
</div>
    
</div>







        <button type="submit" class="w-full bg-zinc-300 hover:bg-slate-500 text-black py-3 my-3 cursor-pointer rounded-md font-semibold tracking-wide transition">
          Enviar Aplicación
        </button>
      </form>
    </div>

  </div>
</section>



<!-- Estilo común sugerido -->
<style>
  .input-field {
    @apply w-full border border-gray-400 bg-white text-black p-3 rounded-md focus:border-blue-600 focus:ring-2 focus:ring-blue-300 transition;
  }
</style>


<script>
  function preview(input, targetId) {
    const file = input.files[0];
    if (file) {
      document.getElementById(targetId).src = URL.createObjectURL(file);
    }
  }
</script>

<script>
const MAX_IMAGE_SIZE = 700 * 1024; // 700KB por imagen
const MAX_TOTAL_SIZE = 3.5 * 1024 * 1024; // 3.5MB total

function preview(input, targetId) {
  const file = input.files[0];
  const warningId = targetId + '_warning';
  let warning = document.getElementById(warningId);
  if (warning) warning.remove();
  if (file) {
    document.getElementById(targetId).src = URL.createObjectURL(file);
    if (file.size > MAX_IMAGE_SIZE) {
      const parent = input.closest('.relative');
      const msg = document.createElement('div');
      msg.id = warningId;
      msg.className = "absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 text-red-400 font-bold text-center text-xs px-2 z-20";
      msg.innerText = "La imagen supera el máximo permitido (700KB)";
      parent.appendChild(msg);
    }
  }
}

document.getElementById('contactForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  let valid = true;
  let totalSize = 0;
  const inputs = this.querySelectorAll('input[type="file"]');
  inputs.forEach(input => {
    const file = input.files[0];
    if (file) {
      totalSize += file.size;
      if (file.size > MAX_IMAGE_SIZE) valid = false;
    }
  });
  if (totalSize > MAX_TOTAL_SIZE) {
    alert('La suma de todas las imágenes no debe superar 3.5MB.');
    return;
  }
  if (!valid) {
    alert('Una o más imágenes superan el tamaño máximo permitido (700KB). Corrige antes de enviar.');
    return;
  }

  // Enviar el formulario usando fetch
  const formData = new FormData(this);
  try {
    const response = await fetch(this.action, {
      method: 'POST',
      body: formData
    });
    if (response.ok) {
      // Mostrar el modal de agradecimiento
      document.getElementById('thankYouModal').classList.remove('hidden');
      // Opcional: resetear el formulario
      this.reset();
      // Opcional: limpiar previews de imágenes
      document.querySelectorAll('img[id^="preview_"]').forEach(img => {
        img.src = img.getAttribute('data-default') || img.src;
      });
    } else {
      // Si es error de tamaño, ya lo manejaste arriba. Otros errores: mensaje genérico.
      alert('Ocurrió un error al enviar tu postulación. Intenta de nuevo más tarde.');
    }
  } catch (err) {
    alert('Ocurrió un error inesperado. Intenta de nuevo más tarde.');
  }
});

function closeThankYouModal() {
  document.getElementById('thankYouModal').classList.add('hidden');
  // Redirige al formulario (opcional, si quieres recargar la página)
  window.location.href = window.location.pathname;
}
</script>

<footer class="bg-black bg-opacity-80 text-white py-6">
    <div class="max-w-screen-xl mx-auto px-4 flex flex-col md:flex-row items-center justify-between">
        <div class="mb-4 md:mb-0 text-center md:text-left">
            &copy; 2025 THE MODEL ISSUE. Todos los derechos reservados.
        </div>
        <div class="flex space-x-4 justify-center">
            <a href="https://instagram.com/themodelissue" target="_blank" title="Instagram" class="hover:text-pink-400">
                <i class="fab fa-instagram fa-lg"></i>
            </a>
            <a href="https://wa.me/584128703811" target="_blank" title="WhatsApp" class="hover:text-green-400">
                <i class="fab fa-whatsapp fa-lg"></i>
            </a>
        </div>
    </div>
</footer>

<!-- Modal de agradecimiento -->
<div id="thankYouModal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-lg shadow-lg p-8 max-w-xs w-full text-center">
    <h2 class="text-2xl font-bold mb-4 text-black">¡Gracias por tu postulación!</h2>
    <p class="mb-4 text-black">Pronto nos pondremos en contacto contigo.</p>
    <div class="flex justify-center space-x-4 mb-4">
      <a href="https://instagram.com/themodelissue" target="_blank" class="text-pink-500 hover:text-pink-700 text-2xl"><i class="fab fa-instagram"></i></a>
      <a href="https://wa.me/584128703811" target="_blank" class="text-green-500 hover:text-green-700 text-2xl"><i class="fab fa-whatsapp"></i></a>
    </div>
    <button onclick="closeThankYouModal()" class="mt-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-800">Cerrar</button>
  </div>
</div>
</body>